# 2. 웹 서버와 서블릿 컨테이너
## 웹 서버와 스프링 부트 소개
![SpringBoot03](./assets/SpringBoot03.PNG)

### 전통적인 방식
- 과거에 자바로 웹 애플리케이션을 개발할 때는 먼저 서버에 톰캣 같은 WAS(웹 애플리케이션 서버)를 설치했음
- 그리고 WAS에서 동작하도록 서블릿 스펙에 맞추어 코드를 작성하고 WAR 형식으로 빌드해서 war 파일을 만들었음
- 이렇게 만들어진 war 파일을 WAS에 전달해서 배포하는 방식으로 전체 개발 주기가 동작
- 이런 방식은 WAS 기반 위에서 개발하고 실행해야 함
- IDE 같은 개발 환경에서도 WAS와 연동해서 실행되도록 복잡한 추가 설정이 필요

### 최근 방식
- 최근에는 스프링 부트가 내장 톰캣을 포함
- 애플리케이션 코드 안에 톰캣 같은 WAS가 라이브러리로 내장되어 있다는 뜻
- 개발자는 코드를 작성하고 JAR로 빌드한 다음에 해당 JAR를 원하는 위치에서 실행하기만 하면 WAS도 함께 실행
- 쉽게 이야기해서 개발자는 `main()` 메서드만 실행하면 되고, WAS 설치나 IDE 같은 개발 환경에서 WAS와 연동하는 복잡한 일은 수행하지 않아도 됨

## 톰캣
### 톰캣 설치
- [톰캣](https://tomcat.apache.org/download-10.cgi)
- Download 메뉴에서 Apache Tomcat 10 버전의 톰캣 다운로드
- Core에 있는 `zip`을 선택, 다운로드 후 압축 풀기
- [다운로드 링크](https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.17/bin/apache-tomcat-10.1.17.zip)

### 톰캣 실행 설정
- MAC, 리눅스 사용자
  - `톰캣폴더/bin` 폴더로 이동
  - 실행: `./startup.sh`
  - 종료: `./shutdown.sh`
  - MAC, 리눅스 사용자는 권한을 주지 않으면 `permission denied`라는 오류 발생 가능
- 윈도우 사용자
  - `톰캣폴더/bin` 폴더로 이동
  - 실행: `./startup.bat`
  - 종료: `./shutdown.bat`

### 실행 확인
- 톰캣 실행한 후 아래 URL에 접근하면 톰캣 서버가 실행된 화면 확인 가능
- [http://localhost:8080](http://localhost:8080)
- 톰캣의 실행 로그는 `톰캣폴더/logs/catalina.out` 파일로 확인 가능

## 프로젝트 설정
- Java 17 이상 설치
- IDE: IntelliJ 또는 Eclipse 설치

### `build.gradle` 확인
```java
plugins {
    id 'java'
    id 'war'
}

group = 'hello'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '17'
repositories {
    mavenCentral()
}

dependencies {
    //서블릿
    implementation 'jakarta.servlet:jakarta.servlet-api:6.0.0'
}

tasks.named('test') {
    useJUnitPlatform()
}
```
- `id 'war'`: 톰캣 같은 웹 애플리케이션 서버 (WAS) 위에서 동작하는 WAR 파일을 만들어주는 플러그인
- `jakarta.servlet-api`: 서블릿을 사용할 때 필요한 라이브러리